#!/usr/bin/env rc

fn names {
	for (id in `{bspc query -N -n any.window -d focused})
		xdotool getwindowname $id >[2]/dev/null
}

sel = `{names | dmenu -i -b -l 10 -p 'switch:'}

if (! ~ $#sel 0) {
	win = `{xdotool search --name $"sel | head -1}
	bspc node $win --flag hidden=off
	bspc node -f $"win
}
