#!/usr/bin/env rc

heading status
git status -s
git add -N .

if (! git diff --quiet) {
	heading stage
	git add -p
}

if (! git diff --cached --quiet) {
	heading commit
	if (confirm 'commit?') {
		msg=`{prompt 'message' Fixups}
		git commit -m $"msg &&
		heading push
		if (confirm 'push?')
			git push origin
	}
}
true
